На основе репозитория [soft-result](https://github.com/DIWOS-Projects/soft-result), можно создать библиотеку NuGet, которая предназначена для формирования универсальных ответов от API. Она будет представлять собой удобный инструмент для стандартизации возвращаемых ответов от API-приложений, построенных на ASP.NET Core. Вот развернутое описание такой библиотеки:

---

### **SoftResult: библиотека для стандартных API-ответов**

#### **Описание**
SoftResult — это удобная и легковесная библиотека для ASP.NET Core, которая позволяет унифицировать ответы от API, упрощая обработку и возврат данных. Она предоставляет механизм формирования объектов, наследующихся от `IActionResult`, которые легко интегрируются в любой проект на ASP.NET Core. Основная цель библиотеки — сделать API более предсказуемым, стандартизированным и удобным для взаимодействия с клиентами.

---

#### **Особенности**
1. **Единообразие ответов API**  
   SoftResult позволяет формировать стандартизированные ответы, содержащие следующие элементы:
   - Статус выполнения операции (успешно/ошибка).
   - HTTP-статус код.
   - Сообщение для клиента.
   - Полезную нагрузку (данные ответа).
   - Детали ошибок (при наличии).

2. **Легкая интеграция с ASP.NET Core**  
   SoftResult возвращает объекты, совместимые с `IActionResult`, что делает библиотеку идеально подходящей для работы в ASP.NET Core.

3. **Гибкость и расширяемость**  
   Вы можете адаптировать SoftResult под свои нужды, добавляя дополнительные поля или изменяя формат ответа.

4. **Поддержка современных стандартов**  
   Библиотека учитывает актуальные рекомендации по REST API и поддержку `Problem Details` (RFC 7807).

---

#### **Основные компоненты**

##### **Интерфейс IResult**
`IResult` наследуется от ASP.NET Core `IActionResult` и представляет унифицированный контракт для всех типов ответов.

##### **Успешные ответы**
SoftResult предоставляет возможность быстро возвращать успешные ответы через метод-обертку `Success`.

Пример успешного ответа:
```csharp
return Result.Success(data);
```

Где `data` — полезная нагрузка, которая будет возвращена клиенту.

##### **Ошибки и неуспешные ответы**
Для обработки ошибок используется метод `Failure`. Он позволяет указать:
- HTTP-код ошибки.
- Сообщение для клиента.
- Детали ошибки (при необходимости).

Пример:
```csharp
return Result.Failure("Ошибка авторизации", HttpStatusCode.Unauthorized);
```

##### **Предопределенные статусы**
Библиотека содержит предопределенные статусы, такие как:
- `Result.Ok`
- `Result.BadRequest`
- `Result.NotFound`
- `Result.InternalServerError`

Пример:
```csharp
return Result.NotFound("Ресурс не найден");
```

##### **Расширенные методы**
- Формирование кастомных ответов.
- Легкая обработка исключений через встроенные утилиты.

---

#### **Интеграция**

1. **Установка**
Добавьте библиотеку в ваш проект через NuGet:
```
dotnet add package SoftResult
```

2. **Использование**
Просто возвращайте `IResult` из методов контроллеров:

```csharp
[HttpGet("{id}")]
public IActionResult GetItem(int id)
{
    var item = _service.GetItem(id);
    if (item == null)
    {
        return Result.NotFound("Элемент не найден");
    }

    return Result.Success(item);
}
```

---

#### **Пример ответа**

##### Успешный ответ:
```json
{
  "success": true,
  "statusCode": 200,
  "message": "Запрос выполнен успешно",
  "data": {
    "id": 1,
    "name": "Пример"
  }
}
```

##### Ответ с ошибкой:
```json
{
  "success": false,
  "statusCode": 404,
  "message": "Ресурс не найден",
  "errors": null
}
```

---

#### **Преимущества использования**

- Улучшенная читаемость кода.
- Удобство обработки ошибок.
- Единообразие во всех конечных точках API.
- Упрощение тестирования и отладки.

---

#### **Дальнейшие планы по развитию**

- Поддержка асинхронных методов (`Task<IResult>`).
- Интеграция с логгированием.
- Дополнительные шаблоны ошибок и кастомизации.
- Поддержка локализации сообщений.

SoftResult — это простой способ сделать ваши API понятными и удобными для разработчиков и клиентов. Попробуйте библиотеку в своем проекте уже сегодня!
